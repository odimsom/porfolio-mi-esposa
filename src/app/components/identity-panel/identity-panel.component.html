<div class="identity-panel">
  @if (isAdmin()) {
    <button class="edit-profile-btn" (click)="editProfile.emit()">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
      </svg>
      Edit
    </button>

    <div class="avatar-section">
      <div class="avatar-wrapper">
        <div class="avatar">
          <img
            [src]="person()?.PhotoUrl || 'https://i.ibb.co/Tx9KRQjr/fotoperfil.png'"
            [alt]="person()?.Name || 'Eva Nazareth'"
          />
        </div>
        <div class="status-dot"></div>
      </div>
    </div>

    <div class="info-section">
      <h1 class="name">{{ person()?.Name || 'Eva Nazareth' }}</h1>
      <p class="role">{{ person()?.Title || 'Frontend Developer' }}</p>
    </div>

    <p class="bio">
      {{
        person()?.Descriptions ||
        'Desarrolladora apasionada por crear experiencias digitales elegantes y accesibles. Amante del diseño limpio, las micro-animaciones y el código bien estructurado.'
      }}
    </p>

    <div class="social-links">
      @if (person()?.Github) {
        <a
          [href]="person()?.Github"
          target="_blank"
          class="social-link glass-card"
          title="GitHub"
        >
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
               stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61
                     c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77
                     5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48
                     a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1
                     A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78
                     c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
          </svg>
          <span>GitHub</span>
        </a>
      }

      @if (person()?.Linkedin) {
        <a
          [href]="person()?.Linkedin"
          target="_blank"
          class="social-link glass-card"
          title="LinkedIn"
        >
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
               stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2
                     2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
            <rect x="2" y="9" width="4" height="12"/>
            <circle cx="4" cy="4" r="2"/>
          </svg>
          <span>LinkedIn</span>
        </a>
      }

      @if (person()?.Email) {
        <a
          [href]="'mailto:' + person()?.Email"
          class="social-link glass-card"
          title="Email"
        >
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
               stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4
                     c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
            <polyline points="22,6 12,13 2,6"/>
          </svg>
          <span>Email</span>
        </a>
      }
    </div>

    @if (currentExperience()) {
      <div class="status-widget glass-card">
        <div class="status-widget__icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
            <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
          </svg>
        </div>
        <div class="status-widget__content">
          <span class="status-widget__label">Trabajando como</span>
          <span class="status-widget__value">
            {{ currentExperience()?.Title }}
          </span>
          <span class="status-widget__sub">
            en {{ currentExperience()?.Company }}
          </span>
        </div>
      </div>
    }

    @if (currentStudy()) {
      <div class="status-widget glass-card">
        <div class="status-widget__icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 10v6M2 10l10-5 10 5-10 5z"/>
            <path d="M6 12v5c0 1.66 2.69 3 6 3s6-1.34 6-3v-5"/>
          </svg>
        </div>
        <div class="status-widget__content">
          <span class="status-widget__label">Actualmente cursando</span>
          <span class="status-widget__value">
            {{ currentStudy()?.Title }}
          </span>
          <span class="status-widget__sub">
            en {{ currentStudy()?.University }}
          </span>
        </div>
      </div>
    }

    <div class="location">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none"
           stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
        <circle cx="12" cy="10" r="3"/>
      </svg>
      <span>{{ person()?.Location || location() }}</span>
    </div>
  }
</div>